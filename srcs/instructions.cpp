#include "../incs/instructions.hpp"


/*all the instrucions connected to thier opcodes for easy access*/
instruction instructions[0x100] = 
{
    [0x00] = {NOP, AM_IMP,},
    [0X01] = {LD, AM_R_D16, BC,},
    [0x02] = {LD, AM_MR_R, BC, A,},
    [0x03] = {INC, AM_R, BC,},
    [0X04] = {INC, AM_R, B,},
    [0X05] = {DEC, AM_R, B,},
    [0X06] = {LD, AM_R_D8, B,},
    [0X07] = {RLCA,}, /**/
    [0X08] = {LD, AM_A16_R, RT_NONE, SP,}, /**/
    [0X09] = {ADD, AM_R_R, HL, BC,},
    [0X0A] = {LD, AM_R_MR, A, BC,},
    [0X0B] = {DEC, AM_R, BC,},
    [0X0C] = {INC, AM_R, C,},
    [0X0D] = {DEC, AM_R, C,},
    [0X0E] = {LD, AM_R_D8, C,},
    [0X0F] = {RRCA,}, /**/
    [0X10] = {STOP,},
    [0X11] = {LD, AM_R_D16, DE,},
    [0X12] = {LD, AM_MR_R, DE, A,},
    [0X13] = {INC, AM_R, DE,},
    [0X14] = {INC, AM_R, D,},
    [0X15] = {DEC, AM_R, D,},
    [0X16] = {LD, AM_R_D8, D,},
    [0X17] = {RLA,},
    [0X18] = {JP, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 8}, /**/
    [0X19] = {ADD, AM_R_R, HL, DE,},
    [0X1A] = {LD, AM_R_MR, A, DE,},
    [0X1B] = {DEC, AM_R, DE,},
    [0X1C] = {INC, AM_R, E,},
    [0X1D] = {DEC, AM_R, E,},
    [0X1E] = {LD, AM_R_D8, E,},
    [0X1F] = {RRA,},
    [0X20] = {JR, AM_IMP, RT_NONE, RT_NONE, CT_NZ, 8}, /**/
    [0X21] = {LD, AM_R_D16, HL,},
    [0X22] = {LD, AM_HLI_R, HL, A,}, /**/
    [0X23] = {INC, AM_R, HL,},
    [0X24] = {INC, AM_R, H,},
    [0X25] = {DEC, AM_R, H,},
    [0X26] = {LD, AM_R_D8, H},
    [0X27] = {DAA,},
    [0X28] = {JR, AM_IMP, RT_NONE, RT_NONE, CT_Z, 8}, /**/
    [0X29] = {ADD, AM_R_R, HL, HL,},
    [0X2A] = {LD, AM_R_HLI, HL, A,},
    [0X2B] = {DEC, AM_R, HL,},
    [0X2C] = {INC, AM_R, L,},
    [0X2D] = {DEC, AM_R, L,},
    [0X2E] = {LD, AM_R_D8, L},
    [0X2F] = {CPL,},
    [0X30] = {JR, AM_IMP, RT_NONE, RT_NONE, CT_NC, 8}, /**/
    [0X31] = {LD, AM_R_D16, SP,},
    [0X32] = {LD, AM_HLD_R, HL, A,},
    [0X33] = {INC, AM_R, SP,},
    [0X34] = {INC, AM_MR, HL,},
    [0X35] = {DEC, AM_MR, HL,},
    [0X36] = {LD, AM_MR_D8, HL,},
    [0X37] = {SCF,},
    [0X38] = {JR, AM_IMP, RT_NONE, RT_NONE, CT_C, 8}, /**/
    [0X39] = {ADD, AM_R_R, HL, SP,},
    [0X3A] = {LD, AM_R_HLD, HL, A,},
    [0X3B] = {DEC, AM_R, SP,},
    [0X3C] = {INC, AM_R, A,},
    [0X3D] = {DEC, AM_R, A,},
    [0X3E] = {LD, AM_R_D8, A,},
    [0X3F] = {CCF,},
    [0X40] = {LD, AM_R_R, B, B,},
    [0X41] = {LD, AM_R_R, B, C,},
    [0X42] = {LD, AM_R_R, B, D,},
    [0X43] = {LD, AM_R_R, B, E,},
    [0X44] = {LD, AM_R_R, B, H,},
    [0X45] = {LD, AM_R_R, B, L,},
    [0X46] = {LD, AM_R_MR, B, HL,},
    [0X47] = {LD, AM_R_R, B, A,},
    [0X48] = {LD, AM_R_R, C, B,},
    [0X49] = {LD, AM_R_R, B, D,},
    [0X4A] = {LD, AM_R_R, C, C,},
    [0X4B] = {LD, AM_R_R, C, E,},
    [0X4C] = {LD, AM_R_R, C, H,},
    [0X4D] = {LD, AM_R_R, C, L,},
    [0X4E] = {LD, AM_R_MR, C, HL,},
    [0X4F] = {LD, AM_R_R, C, A,},
    [0X50] = {LD, AM_R_R, D, B,},
    [0X51] = {LD, AM_R_R, D, C,},
    [0X52] = {LD, AM_R_R, D, D,},
    [0X53] = {LD, AM_R_R, D, E,},
    [0X54] = {LD, AM_R_R, D, H,},
    [0X55] = {LD, AM_R_R, D, L,},
    [0X56] = {LD, AM_R_MR, D, HL,},
    [0X57] = {LD, AM_R_R, D, A,},
    [0X58] = {LD, AM_R_R, E, B,},
    [0X59] = {LD, AM_R_R, E, C,},
    [0X5A] = {LD, AM_R_R, E, D,},
    [0X5B] = {LD, AM_R_R, E, E,},
    [0X5C] = {LD, AM_R_R, E, H,},
    [0X5D] = {LD, AM_R_R, E, L,},
    [0X5E] = {LD, AM_R_MR, E, HL,},
    [0X5F] = {LD, AM_R_R, E, A,},
    [0X60] = {LD, AM_R_R, H, B,},
    [0X61] = {LD, AM_R_R, H, C,},
    [0X62] = {LD, AM_R_R, H, D,},
    [0X63] = {LD, AM_R_R, H, E,},
    [0X64] = {LD, AM_R_R, H, H,},
    [0X65] = {LD, AM_R_R, H, L,},
    [0X66] = {LD, AM_R_MR, H, HL,},
    [0X67] = {LD, AM_R_R, H, A,},
    [0X68] = {LD, AM_R_R, L, B,},
    [0X69] = {LD, AM_R_R, L, C,},
    [0X6A] = {LD, AM_R_R, L, D,},
    [0X6B] = {LD, AM_R_R, L, E,},
    [0X6C] = {LD, AM_R_R, L, H,},
    [0X6D] = {LD, AM_R_R, L, L,},
    [0X6E] = {LD, AM_R_MR, L, HL,},
    [0X6F] = {LD, AM_R_R, L, A,},
    [0X70] = {LD, AM_MR_R, HL, B,},
    [0X71] = {LD, AM_MR_R, HL, C,},
    [0X72] = {LD, AM_MR_R, HL, D,},
    [0X73] = {LD, AM_MR_R, HL, E,},
    [0X74] = {LD, AM_MR_R, HL, HL,},
    [0X75] = {LD, AM_MR_R, HL, L,},
    [0X76] = {HALT},
    [0X77] = {LD, AM_MR_R, HL, A,},
    [0X78] = {LD, AM_R_R, A, B,},
    [0X79] = {LD, AM_R_R, A, C,},
    [0X7A] = {LD, AM_R_R, A, D,},
    [0X7B] = {LD, AM_R_R, A, E,},
    [0X7C] = {LD, AM_R_R, A, H,},
    [0X7D] = {LD, AM_R_R, A, L,},
    [0X7E] = {LD, AM_R_MR, A, HL,},
    [0X7F] = {LD, AM_R_R, A, A,},
    [0X80] = {ADD, AM_R_R, A, B,},
    [0X81] = {ADD, AM_R_R, A, C,},
    [0X82] = {ADD, AM_R_R, A, D,},
    [0X83] = {ADD, AM_R_R, A, E,},
    [0X84] = {ADD, AM_R_R, A, H,},
    [0X85] = {ADD, AM_R_R, A, L,},
    [0X86] = {ADD, AM_R_MR, A, HL,},
    [0X87] = {ADD, AM_R_R, A, A,},
    [0X88] = {ADC, AM_R_R, A, B,},
    [0X89] = {ADC, AM_R_R, A, C,},
    [0X8A] = {ADC, AM_R_R, A, D,},
    [0X8B] = {ADC, AM_R_R, A, E,},
    [0X8C] = {ADC, AM_R_R, A, H,},
    [0X8D] = {ADC, AM_R_R, A, L,},
    [0X8E] = {ADC, AM_R_MR, A, HL,},
    [0X8F] = {ADC, AM_R, A,},
    [0X90] = {SUB, AM_R, B,},
    [0X91] = {SUB, AM_R, C,},
    [0X92] = {SUB, AM_R, D,},
    [0X93] = {SUB, AM_R, E,},
    [0X94] = {SUB, AM_R, H,},
    [0X95] = {SUB, AM_R, L,},
    [0X96] = {SUB, AM_MR, HL,},
    [0X97] = {SUB, AM_R_R, A,},
    [0X98] = {SBC, AM_R_R, A, B,},
    [0X99] = {SBC, AM_R_R, A, C,},
    [0X9A] = {SBC, AM_R_R, A, D,},
    [0X9B] = {SBC, AM_R_R, A, E,},
    [0X9C] = {SBC, AM_R_R, A, H,},
    [0X9D] = {SBC, AM_R_R, A, L,},
    [0X9E] = {SBC, AM_R_MR, A, HL,},
    [0X9F] = {SBC, AM_R_R, A, A,},
    [0XA0] = {AND, AM_R, B,},
    [0XA1] = {AND, AM_R, C,},
    [0XA2] = {AND, AM_R, D,},
    [0XA3] = {AND, AM_R, E,},
    [0XA4] = {AND, AM_R, H,},
    [0XA5] = {AND, AM_R, L,},
    [0XA6] = {AND, AM_MR, HL,},
    [0XA7] = {AND, AM_R_R, A,},
    [0XA8] = {XOR, AM_R, B,},
    [0XA9] = {XOR, AM_R, C,},
    [0XAA] = {XOR, AM_R, D,},
    [0XAB] = {XOR, AM_R, E,},
    [0XAC] = {XOR, AM_R, H,},
    [0XAD] = {XOR, AM_R, L,},
    [0XAE] = {XOR, AM_MR, HL,},
    [0XAF] = {XOR, AM_R_R, A,},
    [0XB0] = {OR, AM_R, B,},
    [0XB1] = {OR, AM_R, C,},
    [0XB2] = {OR, AM_R, D,},
    [0XB3] = {OR, AM_R, E,},
    [0XB4] = {OR, AM_R, H,},
    [0XB5] = {OR, AM_R, L,},
    [0XB6] = {OR, AM_MR, HL,},
    [0XB7] = {OR, AM_R_R, A,},
    [0XB8] = {CP, AM_R, B,},
    [0XB9] = {CP, AM_R, C,},
    [0XBA] = {CP, AM_R, D,},
    [0XBB] = {CP, AM_R, E,},
    [0XBC] = {CP, AM_R, H,},
    [0XBD] = {CP, AM_R, L,},
    [0XBE] = {CP, AM_MR, HL,},
    [0XBF] = {CP, AM_R_R, A,},
    [0XC0] = {RET, AM_IMP, RT_NONE, RT_NONE, CT_NZ,}, /**/
    [0XC1] = {POP, AM_R, BC,},
    [0XC2] = {JP, AM_D16, RT_NONE, RT_NONE, CT_NZ,}, /**/
    [0XC3] = {JP, AM_D16,},
    [0XC4] = {CALL, AM_D16, RT_NONE, RT_NONE, CT_NZ,}, /**/
    [0XC5] = {PUSH, AM_R, BC,},
    [0XC6] = {ADD, AM_R_D8, A,},
    [0XC7] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 0}, /**/ /**/
    [0XC8] = {RET, AM_IMP, RT_NONE, RT_NONE, CT_Z,},
    [0XC9] = {RET,},
    [0XCA] = {JP, AM_D16, RT_NONE, RT_NONE, CT_Z,},
    [0xCB] = {IT_NONE},
    [0XCC] = {CALL, AM_D16, RT_NONE, RT_NONE, CT_Z,},
    [0XCD] = {CALL, AM_D16,},
    [0XCE] = {ADC, AM_R_D8, A,},
    [0XCF] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 1}, /**/
    [0XD0] = {RET, AM_IMP, RT_NONE, RT_NONE, CT_NC,}, /**/
    [0XD1] = {POP, AM_R, DE,},
    [0XD2] = {JP, AM_D16, RT_NONE, RT_NONE, CT_NC,}, /**/
    [0xD3] = {IT_NONE},
    [0XD4] = {CALL, AM_D16, RT_NONE, RT_NONE, CT_NC,}, /**/
    [0XD5] = {PUSH, AM_R, DE,},
    [0XD6] = {SUB, AM_D8,},
    [0XD7] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 2}, /**/ /**/
    [0XD8] = {RET, AM_IMP, RT_NONE, RT_NONE, CT_C,},
    [0XD9] = {RETI,},
    [0XDA] = {JP, AM_D16, RT_NONE, RT_NONE, CT_C,},
    [0xDB] = {IT_NONE},
    [0XDC] = {CALL, AM_D16, RT_NONE, RT_NONE, CT_C,},
    [0xDD] = {IT_NONE},
    [0XDE] = {SBC, AM_R_D8, A,},
    [0XDF] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 3}, /**/
    [0XE0] = {LD, AM_A8_R, RT_NONE, A,},
    [0XE1] = {POP, AM_R, HL,},
    [0XE2] = {LD, AM_MR_R, C, A,},
    [0xE3] = {IT_NONE},
    [0xE4] = {IT_NONE},
    [0XE5] = {PUSH, AM_R, HL,},
    [0XE6] = {AND, AM_D8,},
    [0XE7] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 4}, /**/
    [0XE8] = {ADD, AM_R, SP, RT_NONE, CT_NONE, 8},
    [0XE9] = {JP, AM_R, HL,},
    [0XEA] = {LD, AM_A16_R, RT_NONE, A,},
    [0xEB] = {IT_NONE},
    [0xEC] = {IT_NONE},
    [0xED] = {IT_NONE},
    [0XEE] = {XOR, AM_D8,},
    [0XEF] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 5}, /**/
    [0XF0] = {LD, AM_R_A8, A, RT_NONE,},
    [0XF1] = {POP, AM_R, AF,},
    [0XF2] = {LD, AM_R_MR, A, C,},
    [0XF3] = {DI,},
    [0xF4] = {IT_NONE},
    [0XF5] = {PUSH, AM_R, AF,},
    [0XF6] = {OR, AM_D8,},
    [0XF7] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 6}, /**/
    [0XF8] = {LD, AM_HL_SPR,},
    [0XF9] = {LD, AM_R_R, SP, HL,},
    [0XFA] = {LD, AM_R_A16, A, RT_NONE,},
    [0XFB] = {EI,},
    [0xFC] = {IT_NONE},
    [0xFD] = {IT_NONE},
    [0XFE] = {CP, AM_D8,},
    [0XFF] = {RST, AM_IMP, RT_NONE, RT_NONE, CT_NONE, 7},/**/
};

/*take the code of the instruction and returns the struct with the informacoion of that
    specific instruciton*/

instruction *fetch_instruction_by_opcode(u8 opcode)
{
    if (instructions[opcode].type == IT_NONE)
        return (NULL);
    return(&instructions[opcode]);
}